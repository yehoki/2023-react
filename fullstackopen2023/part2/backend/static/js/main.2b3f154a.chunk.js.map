{"version":3,"sources":["components/Filter.jsx","components/PersonForm.jsx","components/Persons.jsx","services/persons.js","App.js","index.js"],"names":["Filter","props","type","placeholder","onChange","value","PersonForm","onSubmit","newName","nameChange","newNumber","numberChange","Persons","filteredData","map","person","name","number","onClick","onclick","id","exportedObject","getAll","axios","get","then","response","data","App","useState","persons","setPersons","setNewName","setNewNumber","search","setSearch","forceRender","setForceRender","successMessage","setSuccessMessage","useEffect","personService","initialPersons","filter","e","toLowerCase","includes","SuccessNotification","message","className","target","event","preventDefault","window","confirm","updateUser","prev","setTimeout","create","newPerson","concat","console","log","deleteUser","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.2b3f154a.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Filter(props) {\n  return (\n    <input\n      type=\"text\"\n      placeholder=\"Search...\"\n      onChange={props.onChange}\n      value={props.value}\n    />\n  );\n}\n\nexport default Filter;\n","import React from 'react'\n\nfunction PersonForm(props) {\n  return (\n    <form onSubmit = {props.onSubmit}>\n        <div>\n            Name: <input value = {props.newName} onChange = {props.nameChange} />\n        </div>\n        <div>\n            Number: <input value = {props.newNumber} onChange = {props.numberChange} />\n        </div>\n        <div>\n            <button type = \"submit\">Add person</button>\n        </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from \"react\";\n\nfunction Persons(props) {\n  return (\n    <ul>\n      {props.filteredData.map((person) => (\n        <li key={person.id}>\n          {person.name} {person.number}{\" \"}\n          <button onClick={props.onclick} id = {person.id}> delete {person.name}</button>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nexport default Persons;\n\n/*\n\n\n\n    <li key={person.id}>\n            {person.name} {person.number}{\" \"}\n            <button onClick={props.onclick} id={person.id}>\n              {\" \"}\n              delete {person.name}\n            </button>\n          </li>\n\n*/\n","import axios from \"axios\";\nconst baseUrl = \"http://localhost:3001/api/persons\";\n\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data)\n}\n\n\n/*\nconst getAll = async () => {\n  const request = axios.get(baseUrl);\n  const response = await request;\n  return response.data;\n};\n\nconst create = async (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  const response = await request;\n  return response.data;\n};\n\nconst deleteUser = async (id) => {\n  const deleteUrl = `${baseUrl}/${id}`;\n  axios.delete(deleteUrl).then(() => {});\n};\n\nconst updateUser = async (name, number) => {\n  const userInfo = await axios.get(baseUrl);\n  const findUserByName = userInfo.data.filter((user) => user.name === name)\n  const updateUrl = `${baseUrl}/${findUserByName[0].id}`\n  const newUser = {name: findUserByName[0].name,\n                   number: number,\n                   id: findUserByName[0].id}\n  const request = await axios.put(updateUrl, newUser)\n  return request.data;\n};\n*/\n\n\nconst exportedObject = {\n  getAll,\n  /*create,\n  deleteUser,\n  updateUser,*/\n};\n\nexport default exportedObject;\n","import { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter.jsx\";\nimport PersonForm from \"./components/PersonForm.jsx\";\nimport Persons from \"./components/Persons.jsx\";\nimport personService from \"./services/persons.js\";\nimport \"./App.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [forceRender, setForceRender] = useState(0);\n  const [successMessage, setSuccessMessage] = useState(null);\n  const deletingButton = (id) => {\n    if (window.confirm(`Do you want to delete user ${id.target.name}?`)) {\n      console.log(id);\n      personService\n        .deleteUser(id.target.id)\n        .then(() => {\n          setForceRender((prev) => prev + 1)\n          \n        });\n    }\n  };\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, [forceRender]);\n\n  const handleNameChange = (event) => {\n    event.preventDefault();\n    setNewName(event.target.value);\n  };\n  const handleNumberChange = (event) => {\n    event.preventDefault();\n    setNewNumber(event.target.value);\n  };\n\n  const addObject = (event) => {\n    event.preventDefault();\n    if (\n      persons\n        .map((person) => person.name.toLowerCase())\n        .includes(newName.toLowerCase())\n    ) {\n      if (\n        window.confirm(\n          `${newName} is already in the phonebook. Do you want to overwrite the number?`\n        )\n      ) {\n        personService\n          .updateUser(newName, newNumber)\n          .then(() => {\n            setForceRender((prev) => prev + 1);\n            setSuccessMessage(\n              `${newName}'s number has been updated to ${newNumber}.`\n            );\n            setTimeout(() => {\n              setSuccessMessage(null);\n            }, 5000);\n          })\n      }\n    } else {\n      personService\n        .create({ name: newName, number: newNumber, id: newName })\n        .then((newPerson) => {\n          setPersons(persons.concat(newPerson));\n          setSuccessMessage(\n            `${newName} has been added.`\n          )\n          setTimeout(() => {\n            setSuccessMessage(null);\n          }, 5000);\n        });\n      setNewName(\"\");\n      setNewNumber(\"\");\n    }\n  };\n\n  const filteredData = persons.filter((e) => {\n    if (search === \"\") {\n      return e;\n    } else {\n      return e.name.toLowerCase().includes(search.toLowerCase());\n    }\n  });\n\n  const SuccessNotification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n    return (\n      <div className = \"successMessage\">\n        {message}\n      </div>\n    )}\n\n  return (\n    <div className=\"bgd\">\n      <h2>Phonebook</h2>\n      <Filter onChange={(e) => setSearch(e.target.value)} value={search} />\n      <h3>Add a new contact</h3>\n      <SuccessNotification message = {successMessage}/>\n      <PersonForm\n        onSubmit={addObject}\n        newName={newName}\n        nameChange={handleNameChange}\n        newNumber={newNumber}\n        numberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons filteredData={filteredData} onclick={(e) => deletingButton(e)} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App.js';\n\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n    <App />\n);\n\n\n"],"sourceRoot":""}